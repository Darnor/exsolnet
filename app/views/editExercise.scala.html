@(user: User, exercise: Exercise)
@main(if(exercise.getId == null) {"Aufgabe erstellen"} else {"Aufgabe editieren"}, user) {
    <script src="@routes.Assets.versioned("javascripts/jquery.tokeninput.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/exercise.js")" type="text/javascript"></script>

    <div>
        <!--<h1>Aufgabe @if(exercise.getId == null) {erstellen} else {editieren}</h1>-->
        <form method="POST" action="
        @if(exercise.getId == null) {
            @routes.ExerciseController.processCreate()
        } else {
            @routes.ExerciseController.processUpdate(exercise.getId)
        }">
            <div class="container-fluid">
                <div class="row">
                    <input class="input_title" oninvalid="this.setCustomValidity('Bitte einen Titel setzten.')" required id="title" placeholder="Titel der Frage" type="text" name="title" value="@exercise.getTitle"/>

                    <textarea name="content" required id="content" rows="10" cols="80">
                    @exercise.getContent
                    </textarea>
                    <script>
                            CKEDITOR.replace( 'content' );
                    </script>

                    <div class="form-group  input_tag_top">
                        <label for="maintag-filter-list">Haupt Tags:</label>
                        <input placeholder="Haupt Tags" required type="search" id="maintag-filter-list" name="mainTag" rel="@exercise.getTags.filter(x => x.isMainTag).map(x => x.getName).mkString(",")" data-route="@routes.TagController.suggestTags("", true)"/>
                    </div>
                    <div class="form-group input_tag">
                        <label for="othertag-filter-list">Andere Tags:</label>
                        <input type="search" id="othertag-filter-list" name="otherTag" rel="@exercise.getTags.filter(x => !x.isMainTag).map(x => x.getName).mkString(",")" data-route="@routes.TagController.suggestTags("", false)"/>
                    </div>




                    <input type="submit" class="btn btn-primary btn-lg btn-block btn-create-exercise" id="save" value="Speichern"/>
                </div>
            </div>


        </form>
    </div>
}
