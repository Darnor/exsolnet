@import java.util
@import java.time.format.DateTimeFormatter
@import java.time.format.FormatStyle
@(username: String, tags: util.List[DashboardController.TagEntry], comments: util.List[Comment])

@main("Dashboard von " + username){
    <h1>Deine gefolgten Tags</h1>
    <ul>
        @tags.map{ tag =>
          <li><a href="@routes.ExerciseController.list(0, 0, "", tag.name)">@tag.name</a> (@tag.progress/@tag.total)</li>
        }
    </ul>

    <h1>Neue Kommentare auf deine Beitr√§ge</h1>
        @comments.map{ comment =>
        <div class="comment">
            <span>@comment.getContent()</span>
            <p>

                <small>
                @comment.getTime.format(DateTimeFormatter.ofLocalizedDateTime(FormatStyle.SHORT).withLocale(Locale.GERMAN))
                    -

                <a href="#TODO">@comment.getUser().getEmail()</a>
                auf

                    @if(comment.getExercise() != null) {
                        <a href="@routes.ExerciseController.renderDetails(comment.getExercise.getId)">@comment.getExercise().getTitle()</a>
                    } else {
                        <a href="@routes.ExerciseController.renderDetails(comment.getSolution.getExercise.getId)">@comment.getSolution().getExercise().getTitle()</a>
                    }
                </small>
            </p>
        </div>
        }
}
